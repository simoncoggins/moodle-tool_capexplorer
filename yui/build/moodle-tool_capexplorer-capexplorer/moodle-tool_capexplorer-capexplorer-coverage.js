if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/moodle-tool_capexplorer-capexplorer/moodle-tool_capexplorer-capexplorer.js']) {
   __coverage__['build/moodle-tool_capexplorer-capexplorer/moodle-tool_capexplorer-capexplorer.js'] = {"path":"build/moodle-tool_capexplorer-capexplorer/moodle-tool_capexplorer-capexplorer.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":47},"end":{"line":1,"column":66}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":14},"end":{"line":33,"column":29}}},"3":{"name":"(anonymous_3)","line":51,"loc":{"start":{"line":51,"column":18},"end":{"line":51,"column":44}}},"4":{"name":"(anonymous_4)","line":65,"loc":{"start":{"line":65,"column":24},"end":{"line":65,"column":40}}},"5":{"name":"(anonymous_5)","line":95,"loc":{"start":{"line":95,"column":25},"end":{"line":95,"column":37}}},"6":{"name":"(anonymous_6)","line":110,"loc":{"start":{"line":110,"column":22},"end":{"line":110,"column":65}}},"7":{"name":"(anonymous_7)","line":159,"loc":{"start":{"line":159,"column":23},"end":{"line":159,"column":38}}},"8":{"name":"(anonymous_8)","line":167,"loc":{"start":{"line":167,"column":27},"end":{"line":167,"column":53}}},"9":{"name":"(anonymous_9)","line":169,"loc":{"start":{"line":169,"column":47},"end":{"line":169,"column":65}}},"10":{"name":"(anonymous_10)","line":173,"loc":{"start":{"line":173,"column":29},"end":{"line":173,"column":54}}},"11":{"name":"(anonymous_11)","line":174,"loc":{"start":{"line":174,"column":44},"end":{"line":174,"column":61}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":199,"column":3}},"2":{"start":{"line":27,"column":0},"end":{"line":27,"column":46}},"3":{"start":{"line":29,"column":0},"end":{"line":186,"column":2}},"4":{"start":{"line":34,"column":8},"end":{"line":34,"column":37}},"5":{"start":{"line":37,"column":8},"end":{"line":37,"column":37}},"6":{"start":{"line":40,"column":8},"end":{"line":43,"column":11}},"7":{"start":{"line":45,"column":8},"end":{"line":45,"column":57}},"8":{"start":{"line":47,"column":8},"end":{"line":86,"column":11}},"9":{"start":{"line":52,"column":16},"end":{"line":52,"column":44}},"10":{"start":{"line":53,"column":16},"end":{"line":57,"column":17}},"11":{"start":{"line":56,"column":20},"end":{"line":56,"column":27}},"12":{"start":{"line":58,"column":16},"end":{"line":60,"column":80}},"13":{"start":{"line":62,"column":16},"end":{"line":81,"column":19}},"14":{"start":{"line":66,"column":28},"end":{"line":72,"column":29}},"15":{"start":{"line":67,"column":32},"end":{"line":67,"column":78}},"16":{"start":{"line":70,"column":32},"end":{"line":70,"column":67}},"17":{"start":{"line":71,"column":32},"end":{"line":71,"column":39}},"18":{"start":{"line":73,"column":28},"end":{"line":76,"column":29}},"19":{"start":{"line":74,"column":32},"end":{"line":74,"column":67}},"20":{"start":{"line":75,"column":32},"end":{"line":75,"column":39}},"21":{"start":{"line":77,"column":28},"end":{"line":77,"column":56}},"22":{"start":{"line":83,"column":16},"end":{"line":83,"column":27}},"23":{"start":{"line":88,"column":8},"end":{"line":88,"column":27}},"24":{"start":{"line":90,"column":8},"end":{"line":90,"column":46}},"25":{"start":{"line":92,"column":8},"end":{"line":92,"column":50}},"26":{"start":{"line":98,"column":8},"end":{"line":102,"column":9}},"27":{"start":{"line":99,"column":12},"end":{"line":99,"column":31}},"28":{"start":{"line":100,"column":12},"end":{"line":100,"column":32}},"29":{"start":{"line":101,"column":12},"end":{"line":101,"column":19}},"30":{"start":{"line":104,"column":8},"end":{"line":105,"column":51}},"31":{"start":{"line":106,"column":8},"end":{"line":106,"column":38}},"32":{"start":{"line":111,"column":8},"end":{"line":111,"column":35}},"33":{"start":{"line":114,"column":8},"end":{"line":118,"column":9}},"34":{"start":{"line":115,"column":12},"end":{"line":115,"column":45}},"35":{"start":{"line":116,"column":12},"end":{"line":116,"column":68}},"36":{"start":{"line":117,"column":12},"end":{"line":117,"column":19}},"37":{"start":{"line":120,"column":8},"end":{"line":120,"column":52}},"38":{"start":{"line":125,"column":8},"end":{"line":125,"column":27}},"39":{"start":{"line":127,"column":8},"end":{"line":144,"column":9}},"40":{"start":{"line":129,"column":12},"end":{"line":143,"column":13}},"41":{"start":{"line":130,"column":16},"end":{"line":140,"column":17}},"42":{"start":{"line":132,"column":20},"end":{"line":134,"column":21}},"43":{"start":{"line":133,"column":24},"end":{"line":133,"column":55}},"44":{"start":{"line":136,"column":20},"end":{"line":136,"column":53}},"45":{"start":{"line":139,"column":20},"end":{"line":139,"column":88}},"46":{"start":{"line":142,"column":16},"end":{"line":142,"column":23}},"47":{"start":{"line":146,"column":8},"end":{"line":156,"column":9}},"48":{"start":{"line":148,"column":12},"end":{"line":151,"column":13}},"49":{"start":{"line":149,"column":16},"end":{"line":149,"column":59}},"50":{"start":{"line":150,"column":16},"end":{"line":150,"column":84}},"51":{"start":{"line":153,"column":12},"end":{"line":155,"column":13}},"52":{"start":{"line":154,"column":16},"end":{"line":154,"column":84}},"53":{"start":{"line":160,"column":8},"end":{"line":160,"column":50}},"54":{"start":{"line":161,"column":8},"end":{"line":161,"column":48}},"55":{"start":{"line":163,"column":8},"end":{"line":178,"column":11}},"56":{"start":{"line":168,"column":16},"end":{"line":168,"column":44}},"57":{"start":{"line":169,"column":16},"end":{"line":171,"column":19}},"58":{"start":{"line":170,"column":20},"end":{"line":170,"column":90}},"59":{"start":{"line":174,"column":16},"end":{"line":176,"column":19}},"60":{"start":{"line":175,"column":20},"end":{"line":175,"column":78}},"61":{"start":{"line":180,"column":8},"end":{"line":184,"column":11}}},"branchMap":{"1":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":21},"end":{"line":27,"column":39}},{"start":{"line":27,"column":43},"end":{"line":27,"column":45}}]},"2":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":16},"end":{"line":53,"column":16}},{"start":{"line":53,"column":16},"end":{"line":53,"column":16}}]},"3":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":20},"end":{"line":53,"column":47}},{"start":{"line":53,"column":51},"end":{"line":53,"column":77}}]},"4":{"line":59,"type":"cond-expr","locations":[{"start":{"line":59,"column":72},"end":{"line":59,"column":92}},{"start":{"line":59,"column":95},"end":{"line":59,"column":96}}]},"5":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":28},"end":{"line":73,"column":28}},{"start":{"line":73,"column":28},"end":{"line":73,"column":28}}]},"6":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":8},"end":{"line":98,"column":8}},{"start":{"line":98,"column":8},"end":{"line":98,"column":8}}]},"7":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"8":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":12},"end":{"line":129,"column":12}},{"start":{"line":129,"column":12},"end":{"line":129,"column":12}}]},"9":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":16},"end":{"line":130,"column":16}},{"start":{"line":130,"column":16},"end":{"line":130,"column":16}}]},"10":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":20},"end":{"line":132,"column":20}},{"start":{"line":132,"column":20},"end":{"line":132,"column":20}}]},"11":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":12},"end":{"line":148,"column":12}},{"start":{"line":148,"column":12},"end":{"line":148,"column":12}}]},"12":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":12},"end":{"line":153,"column":12}},{"start":{"line":153,"column":12},"end":{"line":153,"column":12}}]}},"code":["(function () { YUI.add('moodle-tool_capexplorer-capexplorer', function (Y, NAME) {","","// This file is part of Moodle - http://moodle.org/","//","// Moodle is free software: you can redistribute it and/or modify","// it under the terms of the GNU General Public License as published by","// the Free Software Foundation, either version 3 of the License, or","// (at your option) any later version.","//","// Moodle is distributed in the hope that it will be useful,","// but WITHOUT ANY WARRANTY; without even the implied warranty of","// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","// GNU General Public License for more details.","//","// You should have received a copy of the GNU General Public License","// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.","","/**"," * @package    tool_capexplorer"," * @author     Simon Coggins"," * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later"," */","","/**"," * @namespace"," */","M.tool_capexplorer = M.tool_capexplorer || {};","","M.tool_capexplorer.capexplorer = {","    /**","     * Initialize JS support for the form on index.php","     */","        init: function(args) {","        var parsedResponse, nodeType;","","        // Initialise autocomplete on username and capability fields.","        this.init_autocomplete(args);","","        // Load tree with initial data from PHP.","        this.tree = new Y.TreeView({","            container : '#contexttree',","            nodes : args.initialtree","        });","","        this.tree.on('select', this.tree_set_form_field);","","        this.tree.plug(Y.Plugin.Tree.Lazy, {","","            // Custom function that Plugin.Tree.Lazy will call when it needs to","            // load the children for a node.","            load: function (node, callback) {","                var instanceId, requestdata;","                if (node.children !== undefined && node.children.length !== 0) {","                    // Children already expanded.","                    // This prevents duplicate nodes when initial tree is expanded.","                    return;","                }","                nodeType = node.data.nodeType,","                    instanceId = (node.data.instanceId !== undefined) ? node.data.instanceId : 0,","                    requestdata = {instanceid : instanceId, nodetype: nodeType};","","                Y.io(M.cfg.wwwroot + '/' + args.admin +","                    '/tool/capexplorer/ajax/getchildnodes.php', {","                    on:   {success:","                        function(id, r) {","                            try {","                                parsedResponse = Y.JSON.parse(r.responseText);","                            }","                            catch (e) {","                                window.alert(\"JSON Parse failed!\");","                                return;","                            }","                            if (parsedResponse.error !== undefined) {","                                window.alert(parsedResponse.error);","                                return;","                            }","                            node.append(parsedResponse);","                        }","                    },","                    data: requestdata","                });","","                callback();","            }","","        });","","        this.tree.render();","","        Y.one('#tree-loading-message').hide();","","        this.tree_select_node(Y, args.contextids);","    },","","    tree_set_form_field: function(e) {","        // 'users' node is not a context, so instead of selecting","        // it when clicked, open/close it.","        if (e.node.data.nodeType === 'userdir') {","            e.preventDefault();","            e.node.toggleOpen();","            return;","        }","        // Otherwise, select the node and store the context id.","        var contextid = e.node.data.contextId,","            input = Y.one('input[name=contextid]');","        input.set('value', contextid);","    },","","    // Recursive function to expand, and then select a node in the tree.","    tree_select_node: function(Y, parentcontextids, currentNode) {","        var currentContextId, i, j;","","        // Start from the top if currentNode not set yet.","        if (currentNode === undefined) {","            currentNode = this.tree.rootNode;","            this.tree_select_node(Y, parentcontextids, currentNode);","            return;","        }","","        currentContextId = parentcontextids.shift();","","        // The problem is, open() is async for Lazy tree, so children don't","        // exist in time for loop below. Therefore we need to create expanded tree in PHP","        // and only use recursive function to find selected node.","        currentNode.open();","","        for (i = 0; i < currentNode.children.length; i++) {","            // We've found the right node.","            if (currentNode.children[i].data.contextId === currentContextId) {","                if (parentcontextids.length === 0) {","                    // Always open the system node.","                    if (currentNode.children[i].data.nodeType === 'system') {","                        currentNode.children[i].open();","                    }","                    // If we've reached the last node, select it.","                    currentNode.children[i].select();","                } else {","                    // Otherwise, repeat the process for the child.","                    this.tree_select_node(Y, parentcontextids, currentNode.children[i]);","                }","                // No need to check remaining children.","                return;","            }","        }","        // If previous loop didn't match anything do some further checks.","        for (j = 0; j < currentNode.children.length; j++) {","            // Handle userdir.","            if (currentNode.children[j].data.nodeType === 'userdir') {","                parentcontextids.unshift(currentContextId);","                this.tree_select_node(Y, parentcontextids, currentNode.children[j]);","            }","            // Ensure system node is opened.","            if (currentNode.children[j].data.nodeType === 'system') {","                this.tree_select_node(Y, parentcontextids, currentNode.children[j]);","            }","        }","    },","","    init_autocomplete: function(args) {","        var usernameInput = Y.one('#id_username');","        Y.one('body').addClass('yui3-skin-sam');","","        usernameInput.plug(Y.Plugin.AutoComplete, {","            source: M.cfg.wwwroot + '/' + args.admin +","                '/tool/capexplorer/ajax/getusers.php?search={query}',","            resultTextLocator: 'username',","            resultFilters: function (query, results) {","                query = query.toLowerCase();","                return Y.Array.filter(results, function (result) {","                    return result.raw.autocompletestr.toLowerCase().indexOf(query) !== -1;","                });","            },","            resultFormatter: function(query, results) {","                return Y.Array.map(results, function(result) {","                    return Y.Highlight.all(result.raw.autocompletestr, query);","                });","            }","        });","","        Y.one('#id_capability').plug(Y.Plugin.AutoComplete, {","            resultHighlighter: 'phraseMatch',","            resultFilters: 'phraseMatch',","            source: args.capabilities","        });","    }","};","","","","}, '@VERSION@', {","    \"requires\": [","        \"json\",","        \"autocomplete\",","        \"autocomplete-filters\",","        \"autocomplete-highlighters\",","        \"gallery-sm-treeview\",","        \"tree-lazy\"","    ]","});","","}());"]};
}
var __cov_uDjeNPe$r73_XaFxIVTU6Q = __coverage__['build/moodle-tool_capexplorer-capexplorer/moodle-tool_capexplorer-capexplorer.js'];
__cov_uDjeNPe$r73_XaFxIVTU6Q.s['1']++;YUI.add('moodle-tool_capexplorer-capexplorer',function(Y,NAME){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['1']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['2']++;M.tool_capexplorer=(__cov_uDjeNPe$r73_XaFxIVTU6Q.b['1'][0]++,M.tool_capexplorer)||(__cov_uDjeNPe$r73_XaFxIVTU6Q.b['1'][1]++,{});__cov_uDjeNPe$r73_XaFxIVTU6Q.s['3']++;M.tool_capexplorer.capexplorer={init:function(args){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['2']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['4']++;var parsedResponse,nodeType;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['5']++;this.init_autocomplete(args);__cov_uDjeNPe$r73_XaFxIVTU6Q.s['6']++;this.tree=new Y.TreeView({container:'#contexttree',nodes:args.initialtree});__cov_uDjeNPe$r73_XaFxIVTU6Q.s['7']++;this.tree.on('select',this.tree_set_form_field);__cov_uDjeNPe$r73_XaFxIVTU6Q.s['8']++;this.tree.plug(Y.Plugin.Tree.Lazy,{load:function(node,callback){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['3']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['9']++;var instanceId,requestdata;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['10']++;if((__cov_uDjeNPe$r73_XaFxIVTU6Q.b['3'][0]++,node.children!==undefined)&&(__cov_uDjeNPe$r73_XaFxIVTU6Q.b['3'][1]++,node.children.length!==0)){__cov_uDjeNPe$r73_XaFxIVTU6Q.b['2'][0]++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['11']++;return;}else{__cov_uDjeNPe$r73_XaFxIVTU6Q.b['2'][1]++;}__cov_uDjeNPe$r73_XaFxIVTU6Q.s['12']++;nodeType=node.data.nodeType,instanceId=node.data.instanceId!==undefined?(__cov_uDjeNPe$r73_XaFxIVTU6Q.b['4'][0]++,node.data.instanceId):(__cov_uDjeNPe$r73_XaFxIVTU6Q.b['4'][1]++,0),requestdata={instanceid:instanceId,nodetype:nodeType};__cov_uDjeNPe$r73_XaFxIVTU6Q.s['13']++;Y.io(M.cfg.wwwroot+'/'+args.admin+'/tool/capexplorer/ajax/getchildnodes.php',{on:{success:function(id,r){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['4']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['14']++;try{__cov_uDjeNPe$r73_XaFxIVTU6Q.s['15']++;parsedResponse=Y.JSON.parse(r.responseText);}catch(e){__cov_uDjeNPe$r73_XaFxIVTU6Q.s['16']++;window.alert('JSON Parse failed!');__cov_uDjeNPe$r73_XaFxIVTU6Q.s['17']++;return;}__cov_uDjeNPe$r73_XaFxIVTU6Q.s['18']++;if(parsedResponse.error!==undefined){__cov_uDjeNPe$r73_XaFxIVTU6Q.b['5'][0]++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['19']++;window.alert(parsedResponse.error);__cov_uDjeNPe$r73_XaFxIVTU6Q.s['20']++;return;}else{__cov_uDjeNPe$r73_XaFxIVTU6Q.b['5'][1]++;}__cov_uDjeNPe$r73_XaFxIVTU6Q.s['21']++;node.append(parsedResponse);}},data:requestdata});__cov_uDjeNPe$r73_XaFxIVTU6Q.s['22']++;callback();}});__cov_uDjeNPe$r73_XaFxIVTU6Q.s['23']++;this.tree.render();__cov_uDjeNPe$r73_XaFxIVTU6Q.s['24']++;Y.one('#tree-loading-message').hide();__cov_uDjeNPe$r73_XaFxIVTU6Q.s['25']++;this.tree_select_node(Y,args.contextids);},tree_set_form_field:function(e){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['5']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['26']++;if(e.node.data.nodeType==='userdir'){__cov_uDjeNPe$r73_XaFxIVTU6Q.b['6'][0]++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['27']++;e.preventDefault();__cov_uDjeNPe$r73_XaFxIVTU6Q.s['28']++;e.node.toggleOpen();__cov_uDjeNPe$r73_XaFxIVTU6Q.s['29']++;return;}else{__cov_uDjeNPe$r73_XaFxIVTU6Q.b['6'][1]++;}__cov_uDjeNPe$r73_XaFxIVTU6Q.s['30']++;var contextid=e.node.data.contextId,input=Y.one('input[name=contextid]');__cov_uDjeNPe$r73_XaFxIVTU6Q.s['31']++;input.set('value',contextid);},tree_select_node:function(Y,parentcontextids,currentNode){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['6']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['32']++;var currentContextId,i,j;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['33']++;if(currentNode===undefined){__cov_uDjeNPe$r73_XaFxIVTU6Q.b['7'][0]++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['34']++;currentNode=this.tree.rootNode;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['35']++;this.tree_select_node(Y,parentcontextids,currentNode);__cov_uDjeNPe$r73_XaFxIVTU6Q.s['36']++;return;}else{__cov_uDjeNPe$r73_XaFxIVTU6Q.b['7'][1]++;}__cov_uDjeNPe$r73_XaFxIVTU6Q.s['37']++;currentContextId=parentcontextids.shift();__cov_uDjeNPe$r73_XaFxIVTU6Q.s['38']++;currentNode.open();__cov_uDjeNPe$r73_XaFxIVTU6Q.s['39']++;for(i=0;i<currentNode.children.length;i++){__cov_uDjeNPe$r73_XaFxIVTU6Q.s['40']++;if(currentNode.children[i].data.contextId===currentContextId){__cov_uDjeNPe$r73_XaFxIVTU6Q.b['8'][0]++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['41']++;if(parentcontextids.length===0){__cov_uDjeNPe$r73_XaFxIVTU6Q.b['9'][0]++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['42']++;if(currentNode.children[i].data.nodeType==='system'){__cov_uDjeNPe$r73_XaFxIVTU6Q.b['10'][0]++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['43']++;currentNode.children[i].open();}else{__cov_uDjeNPe$r73_XaFxIVTU6Q.b['10'][1]++;}__cov_uDjeNPe$r73_XaFxIVTU6Q.s['44']++;currentNode.children[i].select();}else{__cov_uDjeNPe$r73_XaFxIVTU6Q.b['9'][1]++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['45']++;this.tree_select_node(Y,parentcontextids,currentNode.children[i]);}__cov_uDjeNPe$r73_XaFxIVTU6Q.s['46']++;return;}else{__cov_uDjeNPe$r73_XaFxIVTU6Q.b['8'][1]++;}}__cov_uDjeNPe$r73_XaFxIVTU6Q.s['47']++;for(j=0;j<currentNode.children.length;j++){__cov_uDjeNPe$r73_XaFxIVTU6Q.s['48']++;if(currentNode.children[j].data.nodeType==='userdir'){__cov_uDjeNPe$r73_XaFxIVTU6Q.b['11'][0]++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['49']++;parentcontextids.unshift(currentContextId);__cov_uDjeNPe$r73_XaFxIVTU6Q.s['50']++;this.tree_select_node(Y,parentcontextids,currentNode.children[j]);}else{__cov_uDjeNPe$r73_XaFxIVTU6Q.b['11'][1]++;}__cov_uDjeNPe$r73_XaFxIVTU6Q.s['51']++;if(currentNode.children[j].data.nodeType==='system'){__cov_uDjeNPe$r73_XaFxIVTU6Q.b['12'][0]++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['52']++;this.tree_select_node(Y,parentcontextids,currentNode.children[j]);}else{__cov_uDjeNPe$r73_XaFxIVTU6Q.b['12'][1]++;}}},init_autocomplete:function(args){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['7']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['53']++;var usernameInput=Y.one('#id_username');__cov_uDjeNPe$r73_XaFxIVTU6Q.s['54']++;Y.one('body').addClass('yui3-skin-sam');__cov_uDjeNPe$r73_XaFxIVTU6Q.s['55']++;usernameInput.plug(Y.Plugin.AutoComplete,{source:M.cfg.wwwroot+'/'+args.admin+'/tool/capexplorer/ajax/getusers.php?search={query}',resultTextLocator:'username',resultFilters:function(query,results){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['8']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['56']++;query=query.toLowerCase();__cov_uDjeNPe$r73_XaFxIVTU6Q.s['57']++;return Y.Array.filter(results,function(result){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['9']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['58']++;return result.raw.autocompletestr.toLowerCase().indexOf(query)!==-1;});},resultFormatter:function(query,results){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['10']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['59']++;return Y.Array.map(results,function(result){__cov_uDjeNPe$r73_XaFxIVTU6Q.f['11']++;__cov_uDjeNPe$r73_XaFxIVTU6Q.s['60']++;return Y.Highlight.all(result.raw.autocompletestr,query);});}});__cov_uDjeNPe$r73_XaFxIVTU6Q.s['61']++;Y.one('#id_capability').plug(Y.Plugin.AutoComplete,{resultHighlighter:'phraseMatch',resultFilters:'phraseMatch',source:args.capabilities});}};},'@VERSION@',{'requires':['json','autocomplete','autocomplete-filters','autocomplete-highlighters','gallery-sm-treeview','tree-lazy']});
